/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package it.bologna.ausl.internauta.service.test.aggiustatori.managers;

import com.querydsl.core.types.Predicate;
import com.querydsl.core.types.dsl.BooleanExpression;
import com.querydsl.core.types.dsl.Expressions;
import it.bologna.ausl.internauta.service.repositories.baborg.PersonaRepository;
import it.bologna.ausl.internauta.service.repositories.baborg.UtenteRepository;
import it.bologna.ausl.internauta.service.repositories.configurazione.ParametroAziendeRepository;
import it.bologna.ausl.internauta.service.schedulers.managers.InviaNotificaAttivitaSospeseWorkerManager;
import it.bologna.ausl.internauta.service.schedulers.workers.InviaNotificaAttivitaSospeseWorker;
import it.bologna.ausl.internauta.service.utils.InternautaUtils;
import it.bologna.ausl.internauta.service.utils.SimpleMailSenderUtility;
import it.bologna.ausl.model.entities.baborg.Utente;
import it.bologna.ausl.model.entities.configurazione.ParametroAziende;
import it.bologna.ausl.model.entities.configurazione.QParametroAziende;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

/**
 *
 * @author Salo
 */
@RunWith(SpringRunner.class)
@SpringBootTest
public class InviaNotificaAttivitaSospeseWorkerManagerTest {

    @Autowired
    InviaNotificaAttivitaSospeseWorkerManager manager;
    @Autowired
    InviaNotificaAttivitaSospeseWorker worker;
    @Autowired
    PersonaRepository personaRepository;

    @Autowired
    ParametroAziendeRepository parametroAziendeRepository;
    @Autowired
    SimpleMailSenderUtility simpleMailSenderUtility;

    @Value("${internauta.mode}")
    String internautaMode;

    @Value("${internauta.scheduled.invio-mail-notifica-attivita-sospese.enabled-emails-test}")
    String[] enabledEmailsForTest;

    @Autowired
    UtenteRepository utenteRepository;

    @Autowired
    InternautaUtils internautaUtils;

    @Test
    public void testDiAvvio() {
        String[] mails = {"l.salomone@nsi.it,", "rossella.bulgarelli@ausl.bologna.it", "p.fabbri@ausl.imola.bo.it", "m.capurro@ausl.imola.bo.it", "n.impagnatiello@ausl.imola.bo.it", "l.alverni@ausl.imola.bo.it", "m.pellegrino@ausl.imola.bo.it", "f.fossarelli@ausl.imola.bo.it", "v.zaccheroni@ausl.imola.bo.it", "a.cavini@ausl.imola.bo.it", "c.torbieri@ausl.imola.bo.it", "g.tateo@ausl.imola.bo.it", "m.mazzolani@ausl.imola.bo.it", "g.pasquali@ausl.imola.bo.it", "cristina.dalfiume@ausl.imola.bo.it", "n.ronchini@ausl.imola.bo.it", "gd.tudisco@ausl.imola.bo.it", "r.caneda@ausl.imola.bo.it", "s.cappelli@ausl.imola.bo.it", "l.monduzzi@ausl.imola.bo.it", "c.zanotti@ausl.imola.bo.it", "b.conti@ausl.imola.bo.it", "f.panighi@ausl.imola.bo.it", "c.bonfiglioli@ausl.imola.bo.it", "d.poli@ausl.imola.bo.it", "sandra.sangiorgi@ausl.imola.bo.it", "b.bertuzzi@ausl.imola.bo.it", "m.mantellini@ausl.imola.bo.it", "p.conti@ausl.imola.bo.it", "c.capucci@ausl.imola.bo.it", "liana.lelli@ausl.imola.bo.it", "giampaolo.conti@ausl.imola.bo.it", "m.mistri@ausl.imola.bo.it", "m.donati@ausl.imola.bo.it", "c.fesce@ausl.imola.bo.it", "m.fiori@ausl.imola.bo.it", "vanessa.zaccheroni@ausl.imola.bo.it", "s.casadio@ausl.imola.bo.it", "j.silvestri@ausl.imola.bo.it", "s.sentimenti@ausl.imola.bo.it", "e.baldini@ausl.imola.bo.it", "m.minoccheri@ausl.imola.bo.it", "simonetta.stanzani@aosp.bo.it", "b.plazzi@ausl.imola.bo.it", "l.giovannini@ausl.imola.bo.it", "s.piazza@ausl.imola.bo.it", "c.ferrari@ausl.imola.bo.it", "c.galvanio@ausl.imola.bo.it", "m.castaldi@ausl.imola.bo.it", "antonella.fabbri@ausl.imola.bo.it", "l.manaresi@ausl.imola.bo.it", "m.vespignani@ausl.imola.bo.it", "n.pizzolo@ausl.imola.bo.it", "m.mandreoli@ausl.imola.bo.it", "m.cazzato@ausl.imola.bo.it", "c.boni@ausl.imola.bo.it", "a.acanto@ausl.imola.bo.it", "f.nencetti@ausl.imola.bo.it", "s.bragadini@ausl.imola.bo.it", "l.bini@ausl.imola.bo.it", "r.rangoni@ausl.imola.bo.it", "g.monducci@ausl.imola.bo.it", "r.cappello@ausl.imola.bo.it", "a.margiotta@ausl.imola.bo.it", "l.paolini@ausl.imola.bo.it", "d.rocca@ausl.imola.bo.it", "r.casadio@ausl.imola.bo.it", "a.masiello@ausl.imola.bo.it", "s.landi@ausl.imola.bo.it", "o.lippi@ausl.imola.bo.it", "b.lanzarini@ausl.imola.bo.it", "m.gioisco@ausl.imola.bo.it", "b.schiassi@ausl.imola.bo.it", "b.tonelli@ausl.imola.bo.it", "p.valentinis@ausl.imola.bo.it", "o.sermasi@ausl.imola.bo.it", "l.monti@ausl.imola.bo.it", "a.renda@ausl.imola.bo.it", "g.cambiuzzi@ausl.imola.bo.it", "c.fantinati@ausl.imola.bo.it", "m.metalli@ausl.imola.bo.it", "t.tattini@ausl.imola.bo.it", "n.galassi@ausl.imola.bo.it", "i.venturini@ausl.imola.bo.it", "p.manco@ausl.imola.bo.it", "v.parisi@ausl.imola.bo.it", "m.fiume@ausl.imola.bo.it", "a.conte@ausl.imola.bo.it", "m.galanti@ausl.imola.bo.it", "r.zavattierivolpe@ausl.imola.bo.it", "a.padovani@ausl.imola.bo.it", "c.gentili@ausl.imola.bo.it", "g.merenda@ausl.imola.bo.it", "mirella.galeotti@ausl.imola.bo.it", "p.lasala@ausl.imola.bo.it", "s.giulianini@ausl.imola.bo.it", "g.dalfiume@ausl.imola.bo.it", "d.castellari@ausl.imola.bo.it", "c.balladelli@ausl.imola.bo.it", "lorena.landi@aosp.bo.it", "s.cavazza@ausl.imola.bo.it", "a.grillini@ausl.imola.bo.it", "c.scialpi@ausl.imola.bo.it", "catia.santandrea@ausl.imola.bo.it", "m.perilli@ausl.imola.bo.it", "m.grementieri@ausl.imola.bo.it", "s.sandrini@ausl.imola.bo.it", "a.gallo@ausl.imola.bo.it", "m.maranini@ausl.imola.bo.it", "c.demartino@ausl.imola.bo.it", "g.loreti@ausl.imola.bo.it", "s.tauro@ausl.imola.bo.it", "l.conti@ausl.imola.bo.it", "d.bortolai@ausl.imola.bo.it", "g.saccon@ausl.imola.bo.it", "r.naldi@ausl.imola.bo.it", "r.todisco@ausl.imola.bo.it", "s.martelli@ausl.imola.bo.it", "massimo.costa@ausl.imola.bo.it", "a.bagnaresi@ausl.imola.bo.it", "f.serotti@ausl.imola.bo.it", "monia.zanotti@ausl.imola.bo.it", "v.bracciale@ausl.imola.bo.it", "a.mantovani@ausl.imola.bo.it", "f.grasso@ausl.imola.bo.it", "m.barnaba@ausl.imola.bo.it", "d.lapenna@ausl.imola.bo.it", "luca.santi3@studio.unibo.it", "b.sagario@ausl.imola.bo.it", "n.furno@ausl.imola.bo.it", "n.bendanti@ausl.imola.bo.it", "r.gugliotta@ausl.imola.bo.it", "g.nigro@ausl.imola.bo.it", "v.visani@ausl.imola.bo.it", "m.liberio@ausl.imola.bo.it", "d.guardigli@ausl.imola.bo.it", "f.rivaroli@ausl.imola.bo.it", "m.galantini@ausl.imola.bo.it", "c.roncassaglia@ausl.imola.bo.it", "l.manganici@ausl.imola.bo.it", "d.robertazzo@ausl.imola.bo.it", "s.grazioso@ausl.imola.bo.it", "c.salvini@ausl.imola.bo.it", "d.mingotti@ausl.imola.bo.it", "g.biavati@ausl.imola.bo.it", "sabrina.pirazzoli@ausl.imola.bo.it", "r.dalledonne@ausl.imola.bo.it", "marcello.lanari@unibo.it", "m.harizanovadimitrova@ausl.imola.bo.it", "m.zanella@ausl.imola.bo.it", "a.senese@ausl.imola.bo.it", "a.vasile@ausl.imola.bo.it", "l.montanar@ausl.imola.bo.it", "m.galvagni@ausl.imola.bo.it", "m.biadaioli@ausl.imola.bo.it", "m.severi@ausl.imola.bo.it", "f.paradisi@ausl.imola.bo.it", "m.ciavarella@ausl.imola.bo.it", "m.ramazzotti@ausl.imola.bo.it", "barbara.poggi@ausl.imola.bo.it", "g.degiovanni@ausl.imola.bo.it", "m.poletti@ausl.imola.bo.it", "MariaAugusta.Nicoli@regione.emilia-romagna.it", "c.trere@ausl.imola.bo.it", "a.petruzzi@ausl.imola.bo.it", "a.dazzani@ausl.imola.bo.it", "f.sergio@ausl.imola.bo.it", "massimo.gentilini@ausl.imola.bo.it", "f.galletti@ausl.imola.bo.it", "f.solimando@ausl.imola.bo.it", "g.carbone@ausl.imola.bo.it", "e.tomczak@ausl.imola.bo.it", "b.castellari@ausl.imola.bo.it", "m.battilani@ausl.imola.bo.it", "g.califano@ausl.imola.bo.it", "sv.sangiorgi@ausl.imola.bo.it", "s.grano@ausl.imola.bo.it", "o.baldazzi@ausl.imola.bo.it", "m.campomori@ausl.imola.bo.it", "r.filippone@ausl.imola.bo.it", "o.bambi@ausl.imola.bo.it", "a.valgimigli@ausl.imola.bo.it", "l.perticara@ausl.imola.bo.it", "c.magnani@ausl.imola.bo.it", "i.giovannini@ausl.imola.bo.it", "e.vignudelli@ausl.imola.bo.it", "m.bartoli@ausl.imola.bo.it", "m.pratella@ausl.imola.bo.it", "m.bellinazzi@ausl.imola.bo.it", "catia.zanotti@ausl.imola.bo.it", "d.galazzi@ausl.imola.bo.it", "i.dallosso@ausl.imola.bo.it", "m.lesce@ausl.imola.bo.it", "tessa.silvestroni@aosp.bo.it", "i.naldi@ausl.imola.bo.it", "g.miste@ausl.imola.bo.it", "m.mazzotta@ausl.imola.bo.it", "m.fortin@ausl.imola.bo.it", "e.brunetti@ausl.imola.bo.it", "m.venturoli@ausl.imola.bo.it", "g.marone@ausl.imola.bo.it", "s.pomona@ausl.imola.bo.it", "b.tampieri@ausl.imola.bo.it", "lavinia.piancastelli@ausl.imola.bo.it", "marta.degiovanni@ausl.imola.bo.it", "g.naldoni@ausl.imola.bo.it", "g.vetrone@ausl.imola.bo.it", "s.giovannini@ausl.imola.bo.it", "mg.zanotti@ausl.imola.bo.it", "m.gualandi@ausl.imola.bo.it", "r.scifo@ausl.imola.bo.it", "m.galeati@ausl.imola.bo.it", "c.pettignelli@ausl.imola.bo.it", "g.albonetti@ausl.imola.bo.it", "c.sicignano@ausl.imola.bo.it", "a.gasparri@ausl.imola.bo.it", "d.naldoni@ausl.imola.bo.it", "s.campitelli@ausl.imola.bo.it", "s.gentilini@ausl.imola.bo.it", "m.francesconi@ausl.imola.bo.it", "e.dari@ausl.imola.bo.it", "g.dorazio@ausl.imola.bo.it", "antonella.tanzariello@aosp.bo.it", "a.zappi@ausl.imola.bo.it", "m.saviano@ausl.imola.bo.it", "d.valentini@ausl.imola.bo.it", "m.marani@ausl.imola.bo.it", "f.curti@ausl.imola.bo.it", "n.baffe@ausl.imola.bo.it", "s.mascagna@ausl.imola.bo.it", "s.cavina@ausl.imola.bo.it", "m.barassi@ausl.imola.bo.it", "f.farina@ausl.imola.bo.it", "m.costa@ausl.imola.bo.it", "r.sentimenti@ausl.imola.bo.it", "n.dibartolomeo@ausl.imola.bo.it", "p.fagiani@ausl.imola.bo.it", "d.donatini@ausl.imola.bo.it", "m.capone@ausl.imola.bo.it", "c.grandi@ausl.imola.bo.it", "d.buscaroli@ausl.imola.bo.it", "franca.spada@ausl.imola.bo.it", "s.dallolio@ausl.imola.bo.it", "a.dattoli@ausl.imola.bo.it", "s.fiorenza@ausl.imola.bo.it", "s.rivalta@ausl.imola.bo.it", "g.briglia@ausl.imola.bo.it", "m.oboldi@ausl.imola.bo.it", "c.antoniello@ausl.imola.bo.it", "a.pulsoni@ausl.imola.bo.it", "f.sorace@ausl.imola.bo.it", "f.villa@ausl.imola.bo.it", "c.berardi@ausl.imola.bo.it", "m.vergnani@ausl.imola.bo.it", "m.rangoni@ausl.imola.bo.it", "a.serotti@ausl.imola.bo.it", "anna.darchini@cup2000.it", "s.sercecchi@ausl.imola.bo.it", "f.grandinetti@ausl.imola.bo.it", "p.giulianini@ausl.imola.bo.it", "f.mattiacci@ausl.imola.bo.it", "m.serrani@ausl.imola.bo.it", "a.cocchi@ausl.imola.bo.it", "n.montanari@ausl.imola.bo.it", "m.medaglia@ausl.imola.bo.it", "p.raspanti@ausl.imola.bo.it", "m.demasi@ausl.imola.bo.it", "a.pizzoli@ausl.imola.bo.it", "n.ungania@ausl.imola.bo.it", "r.plazzi@ausl.imola.bo.it", "e.allibrio@ausl.imola.bo.it", "d.piccinno@ausl.imola.bo.it", "p.collina@ausl.imola.bo.it", "l.martini@ausl.imola.bo.it", "m.baracani@ausl.imola.bo.it", "sf.raffini@ausl.imola.bo.it", "r.conti@ausl.imola.bo.it", "a.korytkowska@ausl.imola.bo.it", "h.michalik@ausl.imola.bo.it", "s.pirazzoli@ausl.imola.bo.it", "s.tattini@ausl.imola.bo.it", "a.reale@ausl.imola.bo.it", "c.comparone@ausl.imola.bo.it", "s.obici@ausl.imola.bo.it", "p.pandori@ausl.imola.bo.it", "f.loprete@ausl.imola.bo.it", "i.dallarno@ausl.imola.bo.it", "m.brusa@ausl.imola.bo.it", "f.lanzoni@ausl.imola.bo.it", "e.valli@ausl.imola.bo.it", "l.latorre@ausl.imola.bo.it", "a.marzocchi@ausl.imola.bo.it", "a.laurenzana@ausl.imola.bo.it", "renza.neri@ausl.imola.bo.it", "l.centulani@ausl.imola.bo.it", "m.gentilini@ausl.imola.bo.it", "e.andalo@ausl.imola.bo.it", "a.dalena@ausl.imola.bo.it", "s.bolognesi@ausl.imola.bo.it", "m.palmonari@ausl.imola.bo.it", "r.loreti@ausl.imola.bo.it", "p.dinicolo@ausl.imola.bo.it", "c.furnari@ausl.imola.bo.it", "a.pirazzini@ausl.imola.bo.it", "m.fiocchi@ausl.imola.bo.it", "s.leonardo@ausl.imola.bo.it", "a.govoni@ausl.imola.bo.it", "gaetano.esposito@ausl.imola.bo.it", "a.baldisserri@ausl.imola.bo.it", "g.barlotti@ausl.imola.bo.it", "c.rondina@ausl.imola.bo.it", "i.landini@ausl.imola.bo.it", "c.cavina@ausl.imola.bo.it", "r.cesari@ausl.imola.bo.it", "r.luccaroni@ausl.imola.bo.it", "m.arniani@ausl.imola.bo.it", "l.sassoli@ausl.imola.bo.it", "d.donattini@ausl.imola.bo.it", "f.dalmonte@ausl.imola.bo.it", "d.baldassarri@ausl.imola.bo.it", "s.macchiavelli@ausl.imola.bo.it", "a.vacirca@ausl.imola.bo.it", "gianpaolo.zanotti@ausl.imola.bo.it", "a.fabbri@ausl.imola.bo.it", "n.gentilini@ausl.imola.bo.it", "f.mongardi@ausl.imola.bo.it", "c.zaniboni@ausl.imola.bo.it", "m.cardelli@ausl.imola.bo.it", "m.quarneti@ausl.imola.bo.it", "g.giugliano@ausl.imola.bo.it", "b.dalterio@ausl.imola.bo.it", "d.corsini@ausl.imola.bo.it", "a.roffi@ausl.imola.bo.it", "a.baruzzi@ausl.imola.bo.it", "c.montanari@ausl.imola.bo.it", "l.zoffoli@ausl.imola.bo.it", "lc.galli@ausl.imola.bo.it", "d.manara@ausl.imola.bo.it", "c.rinaldi@ausl.imola.bo.it", "p.fechete@ausl.imola.bo.it", "c.gentilini@ausl.imola.bo.it", "l.falcioni@ausl.imola.bo.it", "cristina.capucci@ausl.imola.bo.it", "v.rossi@ausl.imola.bo.it", "p.cavini@ausl.imola.bo.it", "a.gallucci@ausl.imola.bo.it", "d.bertuzzi@ausl.imola.bo.it", "m.cambiuzzi@ausl.imola.bo.it", "t.berti@ausl.imola.bo.it", "j.farina@ausl.imola.bo.it", "r.bombardini@ausl.imola.bo.it", "v.benassi@ausl.imola.bo.it", "a.pozsonyi@ausl.imola.bo.it", "f.plazzi@ausl.imola.bo.it", "e.gherardi@ausl.imola.bo.it", "g.visani@ausl.imola.bo.it", "m.turrini@ausl.imola.bo.it", "c.salomone@ausl.imola.bo.it", "nicola.poletti@aosp.bo.it", "v.guerra@ausl.imola.bo.it", "michele.cavina@ausl.imola.bo.it", "i.righini@ausl.imola.bo.it", "v.zorzi@ausl.imola.bo.it", "r.manini@ausl.imola.bo.it", "a.ceciliani@ausl.imola.bo.it", "b.battistini@ausl.imola.bo.it", "b.grigoroiu@ausl.imola.bo.it", "s.buttazzi@ausl.imola.bo.it", "s.veggetti@ausl.imola.bo.it", "c.baldisserri@ausl.imola.bo.it", "v.lomuto@ausl.imola.bo.it", "c.padovani@ausl.imola.bo.it", "f.guarini@ausl.imola.bo.it", "f.pedriali@ausl.imola.bo.it", "v.dicuonzo@ausl.imola.bo.it", "bruna.sartori@ausl.imola.bo.it", "p.miele@ausl.imola.bo.it", "mariapaola.landini@unibo.it", "silvia.nardecchia@ior.it", "antonio.valenti@ior.it", "erminia.mariani@ior.it", "vanda.delciancio@ior.it", "manila.boarini@ior.it", "roberto.greco@ior.it", "alessandra.defeo@ior.it", "s.fiumi@ausl.imola.bo.it", "m.marroni@ausl.imola.bo.it", "v.olivelli@ausl.imola.bo.it", "c.demaria@ausl.imola.bo.it", "l.iacobellis@ausl.imola.bo.it", "k.fanciulli@ausl.imola.bo.it", "m.solinas@ausl.imola.bo.it", "m.marabini@ausl.imola.bo.it", "f.cipriani@ausl.imola.bo.it", "r.ion@ausl.imola.bo.it", "f.malvezzi@ausl.imola.bo.it", "o.bacchilega@ausl.imola.bo.it", "m.ceroni@ausl.imola.bo.it", "m.gamberini@ausl.imola.bo.it", "p.reggiani@ausl.imola.bo.it", "k.borghesi@ausl.imola.bo.it"};
        for (int i = 0; i < mails.length; i++) {
            String mail = mails[i];
            System.out.println(mail + ": " + internautaUtils.isValidEmailAddress(mail));

        }

    }
}
